services:
  browser:
    build:
      context: .
      dockerfile: deploy/dockerfiles/browser/browser.dockerfile
      target: build
    command:
      - sh
      - -c
      - pnpm start:browser
    environment:
      - NODE_ENV=development
      - GNOMAD_API_URL
      - READS_API_URL
      # Auth0 Configuration (optional - for user authentication)
      - REACT_APP_AUTH0_ENABLE
      - REACT_APP_AUTH0_DOMAIN
      - REACT_APP_AUTH0_CLIENT_ID
      - REACT_APP_AUTH0_AUDIENCE
    ports:
      - 8008:8008
    volumes:
      - ./browser/about:/home/node/app/browser/about
      - ./browser/help:/home/node/app/browser/help
      - ./browser/src:/home/node/app/browser/src
      - ./dataset-metadata:/home/node/app/dataset-metadata
